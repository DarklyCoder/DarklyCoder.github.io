<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Logcat," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="什么是LogcatLogcat是Android中一个命令行工具，可以用于得到程序的log信息。">
<meta property="og:type" content="article">
<meta property="og:title" content="Android之Logcat使用方法">
<meta property="og:url" content="http://zhangqiyang.ren/2016/06/22/Android之Logcat使用方法/index.html">
<meta property="og:site_name" content="zhangqiyang的小站">
<meta property="og:description" content="什么是LogcatLogcat是Android中一个命令行工具，可以用于得到程序的log信息。">
<meta property="og:updated_time" content="2016-10-15T12:06:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android之Logcat使用方法">
<meta name="twitter:description" content="什么是LogcatLogcat是Android中一个命令行工具，可以用于得到程序的log信息。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6281570686548854000,
      author: '博主'
    }
  };
</script>

  <title> Android之Logcat使用方法 | zhangqiyang的小站 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?5d9f062022728d2ef3b4d5e23e106d38";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">zhangqiyang的小站</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">追梦者</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Android之Logcat使用方法
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-22T15:04:00+08:00" content="2016-06-22">
              2016-06-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/22/Android之Logcat使用方法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/22/Android之Logcat使用方法/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv"><i class="fa fa-file-o"></i>
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="u4EC0_u4E48_u662FLogcat"><a href="#u4EC0_u4E48_u662FLogcat" class="headerlink" title="什么是Logcat"></a>什么是Logcat</h3><p><code>Logcat</code>是Android中一个命令行工具，可以用于得到程序的log信息。</p>
<a id="more"></a>
<h3 id="u4F7F_u7528Logcat_u547D_u4EE4"><a href="#u4F7F_u7528Logcat_u547D_u4EE4" class="headerlink" title="使用Logcat命令"></a>使用Logcat命令</h3><p>在命令行中输入 <code>adb logcat --help</code> 命令, 就可以显示该命令的帮助信息:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">octopus@octopus:~$ adb logcat <span class="comment">--help  </span></span><br><span class="line">Usage: logcat [options] [filterspecs]  </span><br><span class="line">options include:  </span><br><span class="line">  -s              <span class="operator"><span class="keyword">Set</span> <span class="keyword">default</span> filter <span class="keyword">to</span> silent.  </span><br><span class="line">                  <span class="keyword">Like</span> specifying filterspec <span class="string">'*:s'</span>  </span><br><span class="line">  -<span class="keyword">f</span> &lt;filename&gt;   <span class="keyword">Log</span> <span class="keyword">to</span> <span class="keyword">file</span>. <span class="keyword">Default</span> <span class="keyword">to</span> stdout  </span><br><span class="line">  -r [&lt;kbytes&gt;]   Rotate <span class="keyword">log</span> every kbytes. (<span class="number">16</span> <span class="keyword">if</span> unspecified). Requires -<span class="keyword">f</span>  </span><br><span class="line">  -<span class="keyword">n</span> &lt;<span class="keyword">count</span>&gt;      <span class="keyword">Sets</span> <span class="keyword">max</span> <span class="built_in">number</span> <span class="keyword">of</span> rotated <span class="keyword">logs</span> <span class="keyword">to</span> &lt;<span class="keyword">count</span>&gt;, <span class="keyword">default</span> <span class="number">4</span>  </span><br><span class="line">  -v &lt;<span class="keyword">format</span>&gt;     <span class="keyword">Sets</span> the <span class="keyword">log</span> print <span class="keyword">format</span>, <span class="keyword">where</span> &lt;<span class="keyword">format</span>&gt; <span class="keyword">is</span> one <span class="keyword">of</span>:  </span><br><span class="line">  </span><br><span class="line">                  brief process tag <span class="keyword">thread</span> <span class="keyword">raw</span> <span class="keyword">time</span> threadtime <span class="keyword">long</span>  </span><br><span class="line">  </span><br><span class="line">  -<span class="keyword">c</span>              <span class="keyword">clear</span> (<span class="keyword">flush</span>) the entire <span class="keyword">log</span> <span class="keyword">and</span> <span class="keyword">exit</span>  </span><br><span class="line">  -<span class="keyword">d</span>              dump the <span class="keyword">log</span> <span class="keyword">and</span> <span class="keyword">then</span> <span class="keyword">exit</span> (don<span class="string">'t block)  </span><br><span class="line">  -t &lt;count&gt;      print only the most recent &lt;count&gt; lines (implies -d)  </span><br><span class="line">  -g              get the size of the log'</span>s ring buffer <span class="keyword">and</span> <span class="keyword">exit</span>  </span><br><span class="line">  -b &lt;buffer&gt;     Request alternate ring buffer, <span class="string">'main'</span>, <span class="string">'system'</span>, <span class="string">'radio'</span>  </span><br><span class="line">                  <span class="keyword">or</span> <span class="string">'events'</span>. Multiple -b <span class="keyword">parameters</span> <span class="keyword">are</span> allowed <span class="keyword">and</span> the  </span><br><span class="line">                  results <span class="keyword">are</span> <span class="keyword">interleaved</span>. The <span class="keyword">default</span> <span class="keyword">is</span> -b <span class="keyword">main</span> -b <span class="keyword">system</span>.  </span><br><span class="line">  -B              <span class="keyword">output</span> the <span class="keyword">log</span> <span class="keyword">in</span> <span class="built_in">binary</span>  </span><br><span class="line">filterspecs <span class="keyword">are</span> a series <span class="keyword">of</span>   </span><br><span class="line">  &lt;tag&gt;[:<span class="keyword">priority</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">where</span> &lt;tag&gt; <span class="keyword">is</span> a <span class="keyword">log</span> component tag (<span class="keyword">or</span> * <span class="keyword">for</span> all) <span class="keyword">and</span> <span class="keyword">priority</span> <span class="keyword">is</span>:  </span><br><span class="line">  V    Verbose  </span><br><span class="line">  <span class="keyword">D</span>    Debug  </span><br><span class="line">  <span class="keyword">I</span>    Info  </span><br><span class="line">  W    Warn  </span><br><span class="line">  <span class="keyword">E</span>    <span class="keyword">Error</span>  </span><br><span class="line">  <span class="keyword">F</span>    Fatal  </span><br><span class="line">  S    Silent (supress all <span class="keyword">output</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="string">'*'</span> means <span class="string">'*:d'</span> <span class="keyword">and</span> &lt;tag&gt; <span class="keyword">by</span> itself means &lt;tag&gt;:v  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">If</span> <span class="keyword">not</span> specified <span class="keyword">on</span> the commandline, filterspec <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">from</span> ANDROID_LOG_TAGS.  </span><br><span class="line"><span class="keyword">If</span> <span class="keyword">no</span> filterspec <span class="keyword">is</span> <span class="keyword">found</span>, filter <span class="keyword">defaults</span> <span class="keyword">to</span> <span class="string">'*:I'</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">If</span> <span class="keyword">not</span> specified <span class="keyword">with</span> -v, <span class="keyword">format</span> <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">from</span> ANDROID_PRINTF_LOG  <span class="keyword">or</span> <span class="keyword">defaults</span> <span class="keyword">to</span> <span class="string">"brief"</span></span></span><br></pre></td></tr></table></figure>
<p>adb logcat 命令格式：<code>adb logcat [选项] [过滤项]</code>, 其中 <strong>选项</strong> 和 <strong>过滤项</strong> 在中括号 <strong>[]</strong> 中, 说明这是可选的;</p>
<h3 id="u9009_u9879_u547D_u4EE4_u5217_u8868"><a href="#u9009_u9879_u547D_u4EE4_u5217_u8868" class="headerlink" title="选项命令列表"></a>选项命令列表</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-s</code></td>
<td>设置输出日志的标签, 只显示该标签的日志</td>
</tr>
<tr>
<td><code>-f &lt;filename&gt;</code></td>
<td>指定输出日志信息的<code>&lt;filename&gt;</code>，默认是stdout</td>
</tr>
<tr>
<td><code>-r &lt;kbytes&gt;</code></td>
<td>每<code>&lt;kbytes&gt;</code>时输出日志，默认值为16，需要和<code>-f</code>选项一起使用</td>
</tr>
<tr>
<td><code>-n &lt;count&gt;</code></td>
<td>设置日志的最大数目<code>&lt;count&gt;</code>， 默认值是4，需要和 <code>-r</code> 选项一起使用</td>
</tr>
<tr>
<td><code>-v &lt;format&gt;</code></td>
<td>设置日志输入格式，默认的是<code>brief</code>格式</td>
</tr>
<tr>
<td><code>-c</code></td>
<td>清除所有log并退出</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>得到所有log并退出,不阻塞</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>输出最近的几行日志,输出完退出,不阻塞</td>
</tr>
<tr>
<td><code>-g</code></td>
<td>输出指定的日志缓冲区，输出后退出</td>
</tr>
<tr>
<td><code>-b &lt;buffer&gt;</code></td>
<td>加载一个可使用的日志缓冲区供查看，比如event 和radio . 默认值是main</td>
</tr>
<tr>
<td><code>-B</code></td>
<td>以二进制形式输出日志</td>
</tr>
</tbody>
</table>
<h4 id="u8F93_u51FA_u6307_u5B9A_u6807_u7B7E_u5185_u5BB9_-s"><a href="#u8F93_u51FA_u6307_u5B9A_u6807_u7B7E_u5185_u5BB9_-s" class="headerlink" title="输出指定标签内容 <code>-s</code>"></a>输出指定标签内容 <code>-s</code></h4><p>“-s”选项 : 设置默认的过滤器, 如 我们想要输出 “System.out” 标签的信息, 就可以使用<code>adb logcat -s System.out</code>命令;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">octopus@octopus:~$ adb logcat -s System<span class="class">.out</span>  </span><br><span class="line">--------- beginning of /dev/log/system  </span><br><span class="line">--------- beginning of /dev/log/main  </span><br><span class="line">I/System.<span class="function"><span class="title">out</span><span class="params">(<span class="number">22930</span>)</span></span>: GSM -<span class="number">91</span></span><br><span class="line">I/System.<span class="function"><span class="title">out</span><span class="params">(<span class="number">22930</span>)</span></span>: SignalStrength issssssssss : -<span class="number">91</span></span><br><span class="line">I/System.<span class="function"><span class="title">out</span><span class="params">(<span class="number">22930</span>)</span></span>: Supervisor Thread</span><br></pre></td></tr></table></figure>
<h4 id="u8F93_u51FA_u65E5_u5FD7_u4FE1_u606F_u5230_u6587_u4EF6"><a href="#u8F93_u51FA_u65E5_u5FD7_u4FE1_u606F_u5230_u6587_u4EF6" class="headerlink" title="输出日志信息到文件"></a>输出日志信息到文件</h4><h5 id="u201C-f_u201D_u9009_u9879"><a href="#u201C-f_u201D_u9009_u9879" class="headerlink" title="“-f”选项"></a>“-f”选项</h5><p> “-f”选项 : 该选向后面跟着输入日志的文件, 使用<code>adb logcat -f /sdcard/log.txt</code>命令, 注意这个log文件是输出到手机上，需要指定合适的路径。<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">octopus<span class="variable">@octopus</span><span class="symbol">:~</span><span class="variable">$ </span>adb logcat -f /sdcard/log.txt</span><br></pre></td></tr></table></figure></p>
<p>这个参数对对不能一直用电脑连着手机收集日志的场景非常有用，其实Android shell下也有一个相同参数的logcat命令。使用如下命令可以执行后断开PC和手机持续收集LOG。</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell<span class="variable">@pc</span><span class="variable">$ </span>adb shell  </span><br><span class="line">shell<span class="variable">@android</span><span class="variable">$ </span>logcat -f /sdcard/log.txt &amp;   <span class="comment">#这里的&amp;符号表示后台执行，别少了。  </span></span><br><span class="line">shell<span class="variable">@android</span><span class="variable">$ </span>exit</span><br></pre></td></tr></table></figure>
<p>注：</p>
<ol>
<li>以上<code>shell@pc$</code>指在pc的shell终端执行后边的命令，<code>shell@android$</code>表示在手机shell中执行后边的命令</li>
<li>一定注意合适的时候需要停止掉以上命令，否则再次使用相同命令的时候，就会有两个logcat写同一个文件了</li>
<li>adb logcat -f /sdcard/log.txt 这个必须要求要root权限；但<code>adb locat &gt;d:log.txt</code> 就不需要root权限。</li>
</ol>
<p>停止方法:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="built_in">shell</span> <span class="built_in">kill</span> -<span class="number">9</span> &lt;logcat_pid&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中logcat_pid 通过如下命令获取</p>
<ul>
<li><code>adb shell ps | grep logcat</code>        # linux 平台</li>
<li><code>adb shell ps | findstr &quot;logcat&quot;</code>   #Windows平台</li>
</ul>
<h5 id="26gt_3B_u8F93_u51FA"><a href="#26gt_3B_u8F93_u51FA" class="headerlink" title="<code>&gt;</code>输出"></a><code>&gt;</code>输出</h5><p> <code>&gt;</code>输出 : <code>&gt;</code>后面跟着要输出的日志文件, 可以将 logcat 日志输出到文件中, 使用<code>adb logcat &gt; log</code>命令, 使用<code>more log</code>命令查看日志信息;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">octopus@octopus:~$ adb logcat &gt; <span class="built_in">log</span>  </span><br><span class="line">^C  </span><br><span class="line">octopus@octopus:~$ more <span class="built_in">log</span>  </span><br><span class="line">--------- beginning of /dev/<span class="built_in">log</span>/system  </span><br><span class="line">V/ActivityManager(  <span class="number">500</span>): We have pending thumbnails: null  </span><br><span class="line">V/ActivityManager(  <span class="number">500</span>): getTasks: max=<span class="number">1</span>, flags=<span class="number">0</span>, receiver=null  </span><br><span class="line">V/ActivityManager(  <span class="number">500</span>): com.android.settings/.Settings: task=TaskRecord&#123;<span class="number">42392278</span> <span class="preprocessor">#<span class="number">448</span> A com.android.settings U <span class="number">0</span>&#125;  </span></span><br><span class="line">V/ActivityManager(  <span class="number">500</span>): We have pending thumbnails: null</span><br></pre></td></tr></table></figure>
<h5 id="d_-f__26lt_3Blog_26gt_3B__u7EC4_u5408_u547D_u4EE4"><a href="#d_-f__26lt_3Blog_26gt_3B__u7EC4_u5408_u547D_u4EE4" class="headerlink" title="<code>-d -f &lt;log&gt;</code> 组合命令"></a><code>-d -f &lt;log&gt;</code> 组合命令</h5><p><code>-d -f &lt;log&gt;</code>组合命令：可以将日志保存到手机上的指定位置，对不能一直用电脑连着手机收集日志的场景非常有用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat <span class="operator">-d</span> <span class="operator">-f</span> /sdcard/mylog.txt</span><br></pre></td></tr></table></figure>
<h4 id="u6307_u5B9Alogcat_u7684_u65E5_u5FD7_u8F93_u51FA_u683C_u5F0F"><a href="#u6307_u5B9Alogcat_u7684_u65E5_u5FD7_u8F93_u51FA_u683C_u5F0F" class="headerlink" title="指定logcat的日志输出格式"></a>指定logcat的日志输出格式</h4><p>日志信息包括了许多元数据域包括标签和优先级。可以修改日志的输出格式，所以可以显示出特定的元数据域。可以通过 <code>-v</code> 选项得到格式化输出日志的相关信息。</p>
<table>
<thead>
<tr>
<th>OPTION</th>
<th>DESC</th>
</tr>
</thead>
<tbody>
<tr>
<td>brief</td>
<td><code>优先级 / 标签 (进程ID) : 日志信息</code></td>
</tr>
<tr>
<td>process</td>
<td><code>优先级 (进程ID) : 日志信息</code></td>
</tr>
<tr>
<td>tag</td>
<td><code>优先级 / 标签 : 日志信息</code></td>
</tr>
<tr>
<td>thread</td>
<td><code>优先级 ( 进程ID : 线程ID) 标签 : 日志内容</code></td>
</tr>
<tr>
<td>raw</td>
<td>只输出日志信息, 不附加任何其他 信息, 如 优先级 标签等</td>
</tr>
<tr>
<td>time</td>
<td><code>日期 时间 优先级 / 标签 (进程ID) : 进程名称 : 日志信息</code></td>
</tr>
<tr>
<td>long</td>
<td><code>[ 日期 时间 进程ID : 线程ID 优先级 / 标签] 日志信息</code></td>
</tr>
</tbody>
</table>
<p>当启动了logcat ，你可以通过<code>-v</code>选项来指定输出格式: <code>[adb] logcat [-v &lt;format&gt;]</code></p>
<p>例如用 <code>thread</code> 来产生的日志格式: <code>adb logcat -v thread</code> ,需要注意的是你只能<code>-v</code>选项来规定输出格式。 </p>
<h4 id="u6E05_u7A7A_u65E5_u5FD7_u7F13_u5B58_u4FE1_u606F"><a href="#u6E05_u7A7A_u65E5_u5FD7_u7F13_u5B58_u4FE1_u606F" class="headerlink" title="清空日志缓存信息"></a>清空日志缓存信息</h4><p>清空日志缓存信息 : 使用 <code>adb logcat -c</code> 命令, 可以将之前的日志信息清空, 重新开始输出日志信息;</p>
<h4 id="u5C06_u7F13_u5B58_u65E5_u5FD7_u8F93_u51FA"><a href="#u5C06_u7F13_u5B58_u65E5_u5FD7_u8F93_u51FA" class="headerlink" title="将缓存日志输出"></a>将缓存日志输出</h4><p>将缓存日志输出 : 使用 <code>adb logcat -d</code> 命令, 输出命令, 之后推出命令, 不会进行阻塞;</p>
<h4 id="u8F93_u51FA_u6700_u8FD1_u7684_u65E5_u5FD7"><a href="#u8F93_u51FA_u6700_u8FD1_u7684_u65E5_u5FD7" class="headerlink" title="输出最近的日志"></a>输出最近的日志</h4><p>输出最近的日志 : 使用 <code>adb logcat -t 5</code> 命令, 可以输出最近的5行日志, 并且不会阻塞;</p>
<h4 id="u67E5_u770B_u53EF_u7528_u65E5_u5FD7_u7F13_u51B2_u533A"><a href="#u67E5_u770B_u53EF_u7528_u65E5_u5FD7_u7F13_u51B2_u533A" class="headerlink" title="查看可用日志缓冲区"></a>查看可用日志缓冲区</h4><p>Android日志系统有循环缓冲区，并不是所有的日志系统都有默认循环缓冲区。为了得到日志信息，你需要通过<code>-b</code>选项来启动logcat。如果要使用循环缓冲区，你需要查看剩余的循环缓冲期:</p>
<table>
<thead>
<tr>
<th>OPTION</th>
<th>DESC</th>
</tr>
</thead>
<tbody>
<tr>
<td>system</td>
<td>与系统相关的日志信息</td>
</tr>
<tr>
<td>radio</td>
<td>广播电话相关的日志信息</td>
</tr>
<tr>
<td>events</td>
<td>查看和事件相关的的缓冲区</td>
</tr>
<tr>
<td>main</td>
<td>默认的缓冲区</td>
</tr>
</tbody>
</table>
<p><code>-b</code>选项使用方法: <code>[adb] logcat [-b &lt;buffer&gt;]</code></p>
<p>例如查看日志缓冲区包含radio 和 telephony信息: <code>adb logcat -b radio</code></p>
<h4 id="u4EE5_u4E8C_u8FDB_u5236_u5F62_u5F0F_u8F93_u51FA_u65E5_u5FD7"><a href="#u4EE5_u4E8C_u8FDB_u5236_u5F62_u5F0F_u8F93_u51FA_u65E5_u5FD7" class="headerlink" title="以二进制形式输出日志"></a>以二进制形式输出日志</h4><p>以二进制形式输出日志 : 使用 adb logcat -B 命令;</p>
<h3 id="u8FC7_u6EE4_u9879_u547D_u4EE4_u5217_u8868"><a href="#u8FC7_u6EE4_u9879_u547D_u4EE4_u5217_u8868" class="headerlink" title="过滤项命令列表"></a>过滤项命令列表</h3><p>过滤项格式 : <tag>[:priority] , 标签:日志等级, 默认的日志过滤项是 “ *:I “ ;</tag></p>
<table>
<thead>
<tr>
<th>LEVEL</th>
<th>DESC</th>
</tr>
</thead>
<tbody>
<tr>
<td>V</td>
<td>Verbose (明细)</td>
</tr>
<tr>
<td>D</td>
<td>Debug (调试)</td>
</tr>
<tr>
<td>I</td>
<td>Info (信息)</td>
</tr>
<tr>
<td>W</td>
<td>Warn (警告)</td>
</tr>
<tr>
<td>E</td>
<td>Error (错误)</td>
</tr>
<tr>
<td>F</td>
<td>Fatal (严重错误)</td>
</tr>
<tr>
<td>S</td>
<td>Silent(Super all output) (最高的优先级, 可能不会记载东西)</td>
</tr>
</tbody>
</table>
<ul>
<li><p>过滤指定等级日志 : 使用 <code>adb logcat 10 *:E</code>命令, 显示 <code>Error</code> 以上级别的日志;</p>
</li>
<li><p>过滤指定标签等级日志 : 使用 <code>adb logcat WifiHW:D *:S</code> 命令进行过滤;</p>
</li>
</ul>
<p>– 命令含义 : 输出标签为<code>WifiHW</code>并且优先级Debug(调试)等级以上的级别的日志;</p>
<p>– 注意 <code>*:S</code> : 如果没有 <code>*S</code> 就会输出错误;</p>
<ul>
<li>可以同时设置多个过滤器 : 使用<code>adb logcat WifiHW:D dalvikvm:I *:S</code> 命令, 输出 <code>WifiHW</code> 标签 的 Debug 以上级别 和<code>dalvikvm</code>标签的 Info 以上级别的日志;</li>
</ul>
<h3 id="u4F7F_u7528_u7BA1_u9053_u8FC7_u6EE4_u65E5_u5FD7"><a href="#u4F7F_u7528_u7BA1_u9053_u8FC7_u6EE4_u65E5_u5FD7" class="headerlink" title="使用管道过滤日志"></a>使用管道过滤日志</h3><h4 id="u8FC7_u6EE4_u56FA_u5B9A_u5B57_u7B26_u4E32"><a href="#u8FC7_u6EE4_u56FA_u5B9A_u5B57_u7B26_u4E32" class="headerlink" title="过滤固定字符串"></a>过滤固定字符串</h4><p>过滤固定字符串 : 只要命令行出现的日志都可以过滤, 不管是不是标签;</p>
<p>– 命令 : <code>adb logcat | grep Wifi</code> ;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">octopus@octopus:~$ adb logcat | grep Wifi  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : AP_SCAN <span class="number">1</span> ; interface index=<span class="number">0</span>;  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : SCAN_RESULTS ; interface index=<span class="number">0</span>;  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : SCAN ; interface index=<span class="number">0</span>;  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : AP_SCAN <span class="number">1</span> ; interface index=<span class="number">0</span>;  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : SCAN_RESULTS ; interface index=<span class="number">0</span>;  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : AP_SCAN <span class="number">1</span> ; interface index=<span class="number">0</span>;  </span><br><span class="line">E/WifiHW  (  <span class="number">441</span>): wifi_send_command : SCAN_RESULTS ; interface index=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>过滤字符串忽略大小写 : <code>adb logcat | grep -i wifi</code> ;</p>
<h4 id="u4F7F_u7528_u6B63_u5219_u8868_u8FBE_u5F0F_u5339_u914D"><a href="#u4F7F_u7528_u6B63_u5219_u8868_u8FBE_u5F0F_u5339_u914D" class="headerlink" title="使用正则表达式匹配"></a>使用正则表达式匹配</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">V/ActivityManager(  <span class="number">574</span>): getTasks: max=<span class="number">1</span>, flags=<span class="number">0</span>, receiver=null</span><br></pre></td></tr></table></figure>
<p>分析日志 : 该日志开头两个字符是 <code>V/</code>, 后面开始就是标签, 写一个正则表达式 <code>^..ActivityManager</code>, 就可以匹配日志中的 <code>V/ActivityManager</code> 字符串;</p>
<p>正则表达式过滤日志: 使用上面的正则表达式组成命令 <code>adb logcat | grep &quot;^..Activity&quot;</code> ;</p>
<h3 id="u76F8_u5173_u94FE_u63A5"><a href="#u76F8_u5173_u94FE_u63A5" class="headerlink" title="相关链接"></a>相关链接</h3><p><a href="http://blog.csdn.net/tumuzhuanjia/article/details/39555445" target="_blank" rel="external">adb logcat 命令行用法</a></p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Logcat/" rel="tag">#Logcat</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/06/22/Android自动化测试/" rel="next" title="Android自动化测试">
                <i class="fa fa-chevron-left"></i> Android自动化测试
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/06/23/使用Jenkins打造Android持续集成/" rel="prev" title="使用Jenkins打造Android持续集成">
                使用Jenkins打造Android持续集成 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/06/22/Android之Logcat使用方法/"
     data-title="Android之Logcat使用方法"
     data-content=""
     data-url="http://zhangqiyang.ren/2016/06/22/Android之Logcat使用方法/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          

  <p>热评文章</p>
  <div class="ds-top-threads" data-range="weekly" data-num-items="4"></div>


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/06/22/Android之Logcat使用方法/"
           data-title="Android之Logcat使用方法" data-url="http://zhangqiyang.ren/2016/06/22/Android之Logcat使用方法/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars2.githubusercontent.com/u/10182123?v=3&s=140"
               alt="zhangqiyang" />
          <p class="site-author-name" itemprop="name">zhangqiyang</p>
          <p class="site-description motion-element" itemprop="description">征服技术</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">27</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">34</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/DarklyCoder" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://androidperformance.com/" title="Gracker" target="_blank">Gracker</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://hukai.me/" title="胡凯" target="_blank">胡凯</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.csdn.net/Luoshengyang?viewmode=contents" title="罗升阳" target="_blank">罗升阳</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.csdn.net/harvic880925" title="启舰" target="_blank">启舰</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#u4EC0_u4E48_u662FLogcat"><span class="nav-number">1.</span> <span class="nav-text">什么是Logcat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u4F7F_u7528Logcat_u547D_u4EE4"><span class="nav-number">2.</span> <span class="nav-text">使用Logcat命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u9009_u9879_u547D_u4EE4_u5217_u8868"><span class="nav-number">3.</span> <span class="nav-text">选项命令列表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#u8F93_u51FA_u6307_u5B9A_u6807_u7B7E_u5185_u5BB9_-s"><span class="nav-number">3.1.</span> <span class="nav-text">输出指定标签内容 -s</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u8F93_u51FA_u65E5_u5FD7_u4FE1_u606F_u5230_u6587_u4EF6"><span class="nav-number">3.2.</span> <span class="nav-text">输出日志信息到文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#u201C-f_u201D_u9009_u9879"><span class="nav-number">3.2.1.</span> <span class="nav-text">“-f”选项</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#26gt_3B_u8F93_u51FA"><span class="nav-number">3.2.2.</span> <span class="nav-text">>输出</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#d_-f__26lt_3Blog_26gt_3B__u7EC4_u5408_u547D_u4EE4"><span class="nav-number">3.2.3.</span> <span class="nav-text">-d -f <log> 组合命令</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u6307_u5B9Alogcat_u7684_u65E5_u5FD7_u8F93_u51FA_u683C_u5F0F"><span class="nav-number">3.3.</span> <span class="nav-text">指定logcat的日志输出格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u6E05_u7A7A_u65E5_u5FD7_u7F13_u5B58_u4FE1_u606F"><span class="nav-number">3.4.</span> <span class="nav-text">清空日志缓存信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u5C06_u7F13_u5B58_u65E5_u5FD7_u8F93_u51FA"><span class="nav-number">3.5.</span> <span class="nav-text">将缓存日志输出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u8F93_u51FA_u6700_u8FD1_u7684_u65E5_u5FD7"><span class="nav-number">3.6.</span> <span class="nav-text">输出最近的日志</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u67E5_u770B_u53EF_u7528_u65E5_u5FD7_u7F13_u51B2_u533A"><span class="nav-number">3.7.</span> <span class="nav-text">查看可用日志缓冲区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u4EE5_u4E8C_u8FDB_u5236_u5F62_u5F0F_u8F93_u51FA_u65E5_u5FD7"><span class="nav-number">3.8.</span> <span class="nav-text">以二进制形式输出日志</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u8FC7_u6EE4_u9879_u547D_u4EE4_u5217_u8868"><span class="nav-number">4.</span> <span class="nav-text">过滤项命令列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u4F7F_u7528_u7BA1_u9053_u8FC7_u6EE4_u65E5_u5FD7"><span class="nav-number">5.</span> <span class="nav-text">使用管道过滤日志</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#u8FC7_u6EE4_u56FA_u5B9A_u5B57_u7B26_u4E32"><span class="nav-number">5.1.</span> <span class="nav-text">过滤固定字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u4F7F_u7528_u6B63_u5219_u8868_u8FBE_u5F0F_u5339_u914D"><span class="nav-number">5.2.</span> <span class="nav-text">使用正则表达式匹配</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u76F8_u5173_u94FE_u63A5"><span class="nav-number">6.</span> <span class="nav-text">相关链接</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhangqiyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhangqy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  





  
  
  

  

  

</body>
</html>
